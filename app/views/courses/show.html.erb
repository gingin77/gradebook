<p>
  <%= link_to "Go back to your Teacher's homepage view", teacher_path(@course.teacher_id) %>
</p>
<br />
<h1>Roster for <%= @course.course_title %></h1>
<p>Average for enrolled students: <%= @course_avg %></p>

<table class="table table-sm">
  <thead class="thead-light">
    <tr>
      <th scope="col">Student</th>
      <th scope="col" class="text-center">Grade (%)</th>
      <th scope="col" class="text-center">Letter Grade</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <% @course.grades.select {|gp| !gp.percentage.nil? }.sort_by{|p| -p.percentage }.map do |g| %>
    <tr>
      <td scope="row"><%= g.get_student_name %></td>
      <td class="text-center"><%= g.percentage&.round(1) %></td>
      <td class="text-center"><%= g.percnt_to_ltr %></td>
      <td class="text-center">Update Grade</td>
      <td class="text-center">Remove Student</td>
    </tr>
    <% end %>
    <% @course.grades.select {|gp| gp.percentage.nil? }.map do |g| %>
    <tr>
      <td scope="row"><%= g.get_student_name %></td>
      <td class="text-center"></td>
      <td class="text-center"></td>
      <td class="text-center"><%= link_to "Add Grade Score", edit_course_grade_path(@course.id, g.id) %></td>
      <td class="text-center">Remove Student</td>
    </tr>
    <% end %>
  </tbody>
</table>
<p>
  <%= link_to "Add a new student to this course",  new_course_grade_path(@course.id) %>
</p>
