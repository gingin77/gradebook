# Gradebook

This application was built to meet specs for an [exercise for the Rails Developer Apprenticeship position at Viget Labs](https://github.com/vigetlabs/gradebook).

## Assignment:
> Build an application that allows for the recording and reporting of courses offered by teachers and taken by students. It should satisfy these stories:

> * A Teacher can manage his course roster
> * A Teacher can view the enrolled students and their grades for a given course
> * A Student can see the courses he is registered for (with grades)
> * A Student can see his GPA for a given semester
> * An Administrator can view enrollment counts across all courses for a semester (performance is a concern)
> * An Administrator can view an average grade for a given course (performance is a concern)

## Summary of My App Design - User's perspective
**The app db needs to be populated with seed date before a user can successfully login.**

* Once app is running locally, to interact with app as a user:
    Visit: */login*

    * **To test different roles, use one of the following usernames**
      * As an admin => adumbledore
      * As a teacher => pkeating
      * As a student => zmorris
    * **Password:** secret!

* To see students who are eligible to be added to courses, use the */intro* url path
* Each user type will be routed to the views that meet the app requirements listed above. The teacher role has additional views related to managing their course roster and assigning grades, which will be accessible from the teacher home page.

## Summary of My App Design - Developer's perspective
* A seed file contains dummy names and data for students, teachers, and admins. **The seed file needs to be raked before one can successfully login.** A username in all lowercase is generated by combining the first initial of the first name with the last name. For example, "Wes Gibbins" becomes "wgibbins". The code for how this was done is in the */db/seeds.rb* file.

* **Database design and normalization**
  * A User class handles all authentication steps. It is polymorphic and belongs to 'identifiable', which can be used by 3 other user_type models: Student, Teacher, and Admin.

  * An Ability model is used to handle access permissions based on the User property, identifiable_type.

  * Courses and Grades are joined in a has_many, through relationship via the Grade class. The Grades table holds foreign keys for courses and grades and has a single float property, 'percentage' which holds the numerical grade value for a student within a course.

  * The teacher class has_many courses and has_many grades, through courses. The course table holds the foreign key for a teacher.

  * A teacher adds and drops students from the courses they 'own' by creating and destroying Grade records. Adding or adjusting the numerical grade for a student in a class is handled by the Grade#edit and #update actions.

  * Some standard ActiveRecord validations were used to maintain integrity of the Grades table. In addition, 2 custom validations were designed to block the creation of more than 4 Grade records for a given student and no more than 16 Grade records can be created for a given course.

* Object-Oriented design and programming
  * Models are mostly restricted to holding validations and methods that involve ActiveRecord queries
  * Two POROs were added - one to handle number > letter > GPA conversions and another to support the polymorphic relationship between the User model and the models for specific user roles.

* Ruby and Rails consistent with your experience
  * I'd been reading about permissions handling with the CanCanCan gem and decided this project would be a good time to try it out.

* Test-Driven Development practices
  * The Sessions and Grades controllers have the most integration tests. Other controllers have a few tests but since the most complex functionality was associated with adding and updating grade records by authenticated teacher-users, it made sense to write more tests for the Grades controller. This was my first time building a test-suite for an app and some of the tests I wrote in the beginning for the models might be a bit redundant with the controller integration tests I wrote later in the development process.
